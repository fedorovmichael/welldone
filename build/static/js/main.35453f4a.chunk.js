(this["webpackJsonpwelldone-category-location"]=this["webpackJsonpwelldone-category-location"]||[]).push([[0],{150:function(e,t,a){e.exports=a(247)},155:function(e,t,a){},163:function(e,t){},165:function(e,t){},201:function(e,t){},202:function(e,t){},246:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),l=(a(155),a(24)),c=a(17),s=a(31),u=a(32),d=a(36),p=a(56),g=a(40),m=a(25),h=a(13),y=a(41),E=a(5),b=a(283),C=a(284),f=a(282),O=a(68),v=a(281),j=a(139),k=a(87),w=a.n(k),T=a(89),S=a.n(T),N=a(88),A=a.n(N),M=a(137),R=a.n(M),_=a(90),P=a.n(_),D=a(91),I=a.n(D),L=a(64),x=a(35);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y={listCategories:[],category:{id:"",name:"",listLocations:[]},currentPage:"home",selectedCategory:"",newCategoryName:"",actionType:""};var U=Object(L.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":return J({},e,{listCategories:[].concat(Object(x.a)(e.listCategories),[t.categorie]),currentPage:"home"});case"SET_CURRENT_PAGE":return J({},e,{currentPage:t.currentPage});case"SET_SELECTED_CATEGORY":return J({},e,{selectedCategory:t.selectedCategory});case"SET_NEW_CATEGORY_NAME":return J({},e,{newCategoryName:t.newCategoryName});case"SET_CATEGORIES_LIST":return J({},e,{listCategories:t.listCategories});case"SET_ACTION_TYPE":return J({},e,{actionType:t.actionType});case"SET_UPDATE_CATEGORY":var a=e.listCategories.filter((function(t){return t.id===e.selectedCategory}));a.name=e.newCategoryName;var n=e.listCategories.filter((function(t){return t.id!==e.selectedCategory}));return n.push(a),J({},e,{listCategories:n});default:return e}}));function W(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}function B(e){return{type:"SET_NEW_CATEGORY_NAME",newCategoryName:e}}function H(e){return{type:"SET_CATEGORIES_LIST",listCategories:e}}var q=a(136),z=a.n(q),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handelAddCategory=function(){U.dispatch(W("new")),a.props.history.push("/category-new")},a.handelSaveCategory=function(){var e={id:z.a.v1(),name:a.props.newCategoryName,listLocations:[]};U.dispatch({type:"ADD_CATEGORY",categorie:e});var t=a.props.listCategories;t.push(e);var n=JSON.stringify(t);console.log("update categoryJson 1 ",n),a.updateLocalStorage("categories",t),a.props.history.push("/")},a.handelHomeRedirect=function(){U.dispatch(W("home")),a.props.history.push("/")},a.handlerRemoveCategory=function(e){var t=a.props.listCategories.filter((function(e){return e.id!==a.props.selectedCategory}));U.dispatch(H(t)),a.updateLocalStorage("categories",t)},a.handleEditCategory=function(){U.dispatch(W("edit")),a.props.history.push("/category-edit")},a.handleUpdateCategory=function(){var e=a.props,t=e.listCategories,n=e.selectedCategory,r=e.newCategoryName,o=t.filter((function(e){return e.id===n}))[0];o.name=r;var i=t.filter((function(e){return e.id!==n}));i.push(o),U.dispatch(H(i)),a.updateLocalStorage("categories",i),a.props.history.push("/")},a.state={anchorEl:null,mobileMoreAnchorEl:null,categoryName:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateLocalStorage",value:function(e,t){var a=JSON.stringify(t);localStorage.removeItem(e),localStorage.setItem(e,a)}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("categories");if(console.log("update categoryJson 1 ",e,"undefined"!==e,""!==e),"undefined"!==e&&null!==e&&void 0!==e){console.log("update categoryJson 2 ",e);var t=JSON.parse(e);U.dispatch(H(t))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.currentPage;t.actionType;console.log("current page 1: ",n);var o=r.a.createElement(j.a,{anchorEl:this.state.mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"mainMobileMenu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.mobileMoreAnchorEl),onClose:this.handleMobileMenuClose},"home"===n?r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(f.a,{"aria-label":"Add category",color:"inherit",onClick:function(){e.handelAddCategory()}},r.a.createElement(w.a,null)),r.a.createElement("p",null,"Add category")),r.a.createElement(v.a,null,r.a.createElement(f.a,{"aria-label":"Edit category",color:"inherit",onClick:function(){e.handleEditCategory()}},r.a.createElement(A.a,null)),r.a.createElement("p",null,"Edit category")),r.a.createElement(v.a,null,r.a.createElement(f.a,{"aria-label":"Delete category",color:"inherit",onClick:function(t){e.handlerRemoveCategory(t)}},r.a.createElement(S.a,null)),r.a.createElement("p",null,"Delete category"))):r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(f.a,{"aria-label":"Edit category",color:"inherit",onClick:function(){e.handelHomeRedirect()}},r.a.createElement(P.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(v.a,null,r.a.createElement(f.a,{"aria-label":"Delete category",color:"inherit",onClick:function(){"edit"!==n?e.handelSaveCategory():e.handleUpdateCategory()}},r.a.createElement(I.a,null)),r.a.createElement("p",null,"Save category"))));return console.log("curent page: ",n),r.a.createElement("div",{className:a.grow},r.a.createElement(b.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(O.a,{className:a.title,variant:"h6",noWrap:!0},"My Location"),r.a.createElement("div",{className:a.grow}),"home"===n?r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(f.a,{"aria-label":"Add category",color:"inherit",onClick:function(){e.handelAddCategory()}},r.a.createElement(w.a,null)),r.a.createElement(f.a,{"aria-label":"Edit category",color:"inherit",onClick:function(){e.handleEditCategory()}},r.a.createElement(A.a,null)),r.a.createElement(f.a,{"aria-label":"Delete category",color:"inherit",onClick:function(t){e.handlerRemoveCategory(t)}},r.a.createElement(S.a,null))):r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(f.a,{"aria-label":"Edit category",color:"inherit",onClick:function(){e.handelHomeRedirect()}},r.a.createElement(P.a,null)),r.a.createElement(f.a,{"aria-label":"Save category",color:"inherit",onClick:function(){"edit"!==n?e.handelSaveCategory():e.handleUpdateCategory()}},r.a.createElement(I.a,null))),r.a.createElement("div",{className:a.sectionMobile},r.a.createElement(f.a,{"aria-label":"show more","aria-controls":"mainMobileMenu","aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(R.a,null))))),o)}}]),t}(r.a.Component),K=Object(g.e)(Object(m.b)((function(e){return console.log("store: ",e),{currentPage:e.currentPage,newCategoryName:e.newCategoryName,listCategories:e.listCategories,selectedCategory:e.selectedCategory,actionType:e.actionType}}))(Object(E.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(y.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(h.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(h.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),btnLink:{color:"white"},btnLinkMobile:{display:"flex",color:"#000"}}}))(F))),Q=a(280),V=a(249),X=a(285),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleListItemClick=function(e,t,n){a.setState({selectedIndex:t}),U.dispatch({type:"SET_SELECTED_CATEGORY",selectedCategory:n})},a.state={selectedIndex:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedIndex,a=this.props,n=a.classes,o=a.listCategories,i=[];return null!==o&&o.length>0&&(i=o.map((function(a,o){return r.a.createElement(V.a,{button:!0,key:a.id,selected:t===o,className:n.listItem,onClick:function(t){return e.handleListItemClick(t,o,a.id)}},r.a.createElement(X.a,{primary:a.name}))}))),r.a.createElement("div",{className:n.root},null!==o&&o.length>0?r.a.createElement("div",null,r.a.createElement("h3",null,"Categories"),r.a.createElement(Q.a,{component:"nav","aria-label":"secondary mailbox folder"},i)):r.a.createElement("p",null,"No Categories"))}}]),t}(r.a.Component),$=Object(g.e)(Object(m.b)((function(e){return{listCategories:e.listCategories}}))(Object(E.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,marginTop:30,marginLeft:50},listItem:{borderBottom:"solid 1px #ddd"}}}))(Z))),ee=a(286),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onTextChange=function(e){U.dispatch(B(e.target.value))},a.state={name:"",category:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.actionType,a=e.listCategories,n=e.selectedCategory;if("edit"===t){var r=a.filter((function(e){return e.id===n}));U.dispatch(B(r.name)),this.setState({name:r.name,category:r})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.newCategoryName;return r.a.createElement("div",{className:a.root},r.a.createElement(ee.a,{required:!0,id:"standard-required",label:"New Category",className:a.textField,margin:"normal",onChange:function(t){return e.onTextChange(t)},value:n}))}}]),t}(r.a.Component),ae=Object(m.b)((function(e){return{newCategoryName:e.newCategoryName,actionType:e.actionType,listCategories:e.listCategories,selectedCategory:e.selectedCategory}}))(Object(E.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,marginTop:30,marginLeft:50}}}))(te)),ne=(a(246),function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(K,null)),r.a.createElement(g.a,{path:"/",exact:!0,component:function(e){return r.a.createElement($,e)}}),r.a.createElement(g.a,{path:"/category-edit",component:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(g.a,{path:"/category-new",component:function(e){return r.a.createElement(ae,e)}}))}}]),t}(r.a.Component)),re=Object(m.b)((function(e){return{currentPage:e.currentPage}}))(ne);i.a.render(r.a.createElement(m.a,{store:U},r.a.createElement(re,null)),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.35453f4a.chunk.js.map